<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>T-Bank Payment Integration</title>
    <script src="include-tbank.js"></script>
</head>
<body>
<h1>Оплата заказа</h1>
<div id="payment-container"></div>

<script>
    const tbank = new TBankPaymentIntegration({
        terminalKey: '1673598390848DEMO',
        containerId: 'payment-container',
        widgetTypes: ['sbp', 'tpay', 'bnpl'],
        backendUrl: 'https://al-home-test.r/api/payment/initiate',

        onSuccess: function(paymentData) {
            console.log('Payment successful:', paymentData);
            alert('Оплата прошла успешно!');
        },

        onError: function(error) {
            console.error('Payment error:', error);
            alert('Ошибка при оплате: ' + error.message);
        },

        customStyles: {
            backgroundColor: '#f9f9f9',
            boxShadow: '0 2px 10px rgba(0,0,0,0.1)'
        }
    });

    // Optional: Update payment details
    setTimeout(() => {
        tbank.updatePayment(1.50, 'order_12345', 'Оплата заказа #12345');
    }, 1000);
</script>
</body>
</html>